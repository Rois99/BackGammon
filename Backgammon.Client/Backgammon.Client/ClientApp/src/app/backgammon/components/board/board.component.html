<div class="board-container">
    <div class="main-board" id="game-board">
        <app-piece id="moveable-white" [isWhite]="true"></app-piece>
        <app-piece id="moveable-black" [isWhite]="false"></app-piece>
        <div class="board-graves">
            <app-stack id="stack-25" (dragStarted)="dragStarted($event)" (dragEnded)="dragEnded($event)" [isBottom]="true" [maxSize]="2" class="grave-stack" [blackPieces]="blackPieces[25]" [whitePieces]="whitePieces[25]" [stackNumber]="25" [isLastMoveable]="moveable[25]"></app-stack>
            <app-stack id="stack-0" (dragStarted)="dragStarted($event)" (dragEnded)="dragEnded($event)" [maxSize]="2" class="grave-stack" [isLastMoveable]="moveable[0]" [blackPieces]="blackPieces[0]" [whitePieces]="whitePieces[0]" [stackNumber]="0" [isLastMoveable]="moveable[0]"></app-stack>
        </div>
        <div class="player-house" (drop)="dropOut($event)" (dragover)="allowDropOut($event)"></div>
        <div class="top-line"></div>
        <div class="left-line"></div>
        <div class="left-box">
            <div class="left-top-box">
                <app-stack *ngFor="let i of left_top" id="stack-{{i}}" class="tri" [isLastMoveable]="moveable[i]" [ngClass]="{'red-tri':i%2==0,'black-tri':i%2!=0}" [stackNumber]="i" (drop)="drop($event,i)" (dragover)="allowDrop($event,i)" [whitePieces]="whitePieces[i]"
                    [blackPieces]="blackPieces[i]" [isDroppable]="moveableTo[i]" (dragStarted)="dragStarted($event)" (dragEnded)="dragEnded($event)"></app-stack>
            </div>
            <div class="left-mid-box">
                <app-dice id="dice1" *ngIf="dices" [number]="dices.dice1" [class.enemy-dice]="firstRoll && dices.dice1 != 0"></app-dice>
                <app-dice id="dice2" *ngIf="dices" [number]="dices.dice2" [class.your-dice]="firstRoll && dices.dice1 != 0"></app-dice>
            </div>
            <div class="left-bottom-box">
                <app-stack *ngFor="let i of left_bottom" id="stack-{{i}}" class="tri" [isLastMoveable]="moveable[i]" [ngClass]="{'red-tri':i%2==0,'black-tri':i%2!=0}" [stackNumber]="i" [isBottom]="true" (drop)="drop($event,i)" (dragover)="allowDrop($event,i)" [whitePieces]="whitePieces[i]"
                    [blackPieces]="blackPieces[i]" [isDroppable]="moveableTo[i]" (dragStarted)="dragStarted($event)" (dragEnded)="dragEnded($event)"></app-stack>
            </div>
        </div>
        <div class="middle-line"></div>
        <div class="right-box">
            <div class="right-top-box">
                <app-stack *ngFor="let i of right_top" id="stack-{{i}}" class="tri" [isLastMoveable]="moveable[i]" [ngClass]="{'red-tri':i%2==0,'black-tri':i%2!=0}" [stackNumber]="i" (drop)="drop($event,i)" (dragover)="allowDrop($event,i)" [whitePieces]="whitePieces[i]"
                    [blackPieces]="blackPieces[i]" [isDroppable]="moveableTo[i]" (dragStarted)="dragStarted($event)" (dragEnded)="dragEnded($event)"></app-stack>
            </div>
            <div class="right-mid-box">
            </div>
            <div class="right-bottom-box">
                <app-stack *ngFor="let i of right_bottom" id="stack-{{i}}" class="tri" [isLastMoveable]="moveable[i]" [ngClass]="{'red-tri':i%2==0,'black-tri':i%2!=0}" [stackNumber]="i" [isBottom]="true" (drop)="drop($event,i)" (dragover)="allowDrop($event,i)" [whitePieces]="whitePieces[i]"
                    [blackPieces]="blackPieces[i]" [isDroppable]="moveableTo[i]" (dragStarted)="dragStarted($event)" (dragEnded)="dragEnded($event)"></app-stack>
            </div>
        </div>
        <div class="right-line"></div>
        <div class="bottom-line"></div>
    </div>
</div>
<div class="enemy-box">
    <div class="enemy-card card" [class.his-turn]="!playerTurn">
        <div>
            {{game?.opponent?.name ??"test"}}
        </div>
        <div>
            <div>Game played: {{opponentStats?.gamePlayed}}</div>
            <div>Win percentage: {{opponentStats?.winPrecentage}}%</div>
        </div>
    </div>
</div>
<div class="player-box">
    <div class="player-card card" [class.his-turn]="playerTurn">
        <div>You</div>
        <div>
            <div>Game played: {{playerStats?.gamePlayed}}</div>
            <div>Win percentage: {{playerStats?.winPrecentage}}%</div>
        </div>
    </div>
</div>